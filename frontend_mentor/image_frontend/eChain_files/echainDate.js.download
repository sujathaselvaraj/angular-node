Array.prototype.exists=function(a){for(var b=0;b<this.length;b++){if(this[b]==a){return true}}return false};Date.prototype.formatDate=function(input,time){var switches=["a","A","B","d","D","F","g","G","h","H","i","j","l","L","m","M","n","O","r","s","S","t","U","w","W","y","Y","z"];var daysLong=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var daysShort=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];var monthsShort=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var monthsLong=["January","February","March","April","May","June","July","August","September","October","November","December"];var daysSuffix=["st","nd","rd","th","th","th","th","th","th","th","th","th","th","th","th","th","th","th","th","th","st","nd","rd","th","th","th","th","th","th","th","st"];function a(){return self.getHours()>11?"pm":"am"}function A(){return self.getHours()>11?"PM":"AM"}function B(){var off=(self.getTimezoneOffset()+60)*60;var theSeconds=(self.getHours()*3600)+(self.getMinutes()*60)+self.getSeconds()+off;var beat=Math.floor(theSeconds/86.4);if(beat>1000){beat-=1000}if(beat<0){beat+=1000}if((""+beat).length==1){beat="00"+beat}if((""+beat).length==2){beat="0"+beat}return beat}function d(){return new String(self.getDate()).length==1?"0"+self.getDate():self.getDate()}function D(){return daysShort[self.getDay()]}function F(){return monthsLong[self.getMonth()]}function g(){return self.getHours()>12?self.getHours()-12:self.getHours()}function G(){return self.getHours()}function h(){if(self.getHours()>12){var s=new String(self.getHours()-12);return s.length==1?"0"+(self.getHours()-12):self.getHours()-12}else{var s=new String(self.getHours());return s.length==1?"0"+self.getHours():self.getHours()}}function H(){return new String(self.getHours()).length==1?"0"+self.getHours():self.getHours()}function i(){return new String(self.getMinutes()).length==1?"0"+self.getMinutes():self.getMinutes()}function j(){return self.getDate()}function l(){return daysLong[self.getDay()]}function L(){var y_=Y();if((y_%4==0&&y_%100!=0)||(y_%4==0&&y_%100==0&&y_%400==0)){return 1}else{return 0}}function m(){return self.getMonth()<9?"0"+(self.getMonth()+1):self.getMonth()+1}function M(){return monthsShort[self.getMonth()]}function n(){return self.getMonth()+1}function O(){var os=Math.abs(self.getTimezoneOffset());var h=""+Math.floor(os/60);var m=""+(os%60);h.length==1?h="0"+h:1;m.length==1?m="0"+m:1;return self.getTimezoneOffset()<0?"+"+h+m:"-"+h+m}function r(){var r;r=D()+", "+j()+" "+M()+" "+Y()+" "+H()+":"+i()+":"+s()+" "+O();return r}function S(){return daysSuffix[self.getDate()-1]}function s(){return new String(self.getSeconds()).length==1?"0"+self.getSeconds():self.getSeconds()}function t(){var daysinmonths=[null,31,28,31,30,31,30,31,31,30,31,30,31];if(L()==1&&n()==2){return 29}return daysinmonths[n()]}function U(){return Math.round(self.getTime()/1000)}function W(){var beforeNY=364+L()-z();var afterNY=z();var weekday=w()!=0?w()-1:6;if(beforeNY<=2&&weekday<=2-beforeNY){return 1}var ny=new Date("January 1 "+Y()+" 00:00:00");var nyDay=ny.getDay()!=0?ny.getDay()-1:6;if((afterNY<=2)&&(nyDay>=4)&&(afterNY>=(6-nyDay))){var prevNY=new Date("December 31 "+(Y()-1)+" 00:00:00");return prevNY.formatDate("W")}if(nyDay<=3){return 1+Math.floor((z()+nyDay)/7)}else{return 1+Math.floor((z()-(7-nyDay))/7)}}function w(){return self.getDay()}function Y(){if(self.getFullYear){var newDate=new Date("January 1 2001 00:00:00 +0000");var x=newDate.getFullYear();if(x==2001){return self.getFullYear()}}var x=self.getYear();var y=x%100;y+=(y<38)?2000:1900;return y}function y(){var y=Y()+"";return y.substring(y.length-2,y.length)}function z(){var t=new Date("January 1 "+Y()+" 00:00:00");var diff=self.getTime()-t.getTime();return Math.floor(diff/1000/60/60/24)}var self=this;if(time){var prevTime=self.getTime();self.setTime(time)}var ia=input.split("");var ij=0;while(ia[ij]){if(ia[ij]=="\\"){ia.splice(ij,1)}else{if(switches.exists(ia[ij])){ia[ij]=eval(ia[ij]+"()")}}ij++}if(prevTime){self.setTime(prevTime)}return ia.join("")};function incrementDate(c,b){dateObj=new Date();resultDate=new Date(dateObj.getTime()+c*24*60*60*1000);var a="";switch(b){case"dd-MMM-yyyy":a="d-M-Y";break;case"dd-mm-yyyy":a="d-m-Y";break;case"dd-mm-yy":a="d-m-y";break;case"dd/MMM/yyyy":a="d/M/Y";break;case"dd/mm/yyyy":a="d/m/Y";break;case"dd/mm/yy":a="d/m/y";break}return resultDate.formatDate(a)}function checkValidDate(l,r){var d=l.indexOf("/");if(d==-1){d=l.indexOf("-")}if(d==-1){return false}var b=l.substring(0,d);var u=l.substring(d+1,l.length);var h=r.indexOf("/");if(h==-1){h=r.indexOf("-")}if(h==-1){return false}var f=r.substring(0,h);var s=r.substring(h+1,r.length);var c=u.indexOf("/");if(c==-1){c=u.indexOf("-")}if(c==-1){return false}var o=u.substring(0,c);var k=u.substring(c+1,u.length);var g=s.indexOf("/");if(g==-1){g=s.indexOf("-")}if(g==-1){return false}var n=s.substring(0,g);var m=s.substring(g+1,s.length);if(m.length!=k.length){return false}if((b=="")||(o=="")||(k=="")){return false}for(var j=0;j<b.length;j++){var p=b.substring(j,j+1);if((p<"0")||(p>"9")){return false}}var t=0;for(var j=0;j<b.length;j++){p=b.substring(j,j+1);t*=10;t+=parseInt(p)}if((t<=0)||(t>12)){return false}for(var j=0;j<o.length;j++){p=o.substring(j,j+1);if((p<"0")||(p>"9")){return false}}var v=0;for(var j=0;j<o.length;j++){p=o.substring(j,j+1);v*=10;v+=parseInt(p)}if((v<=0)||(v>31)){return false}if((t==2)&&(v>29)){return false}if((t==4)||(t==6)||(t==9)||(t==11)){if(v>30){return false}}for(var j=0;j<k.length;j++){p=k.substring(j,j+1);if((p<"0")||(p>"9")){return false}}var e=0;for(var j=0;j<k.length;j++){p=k.substring(j,j+1);e*=10;e+=parseInt(p)}if((k.length!=2)&&(k.length!=4)){return false}if((e<50)&&(k.length==2)){e+=2000}if((e<100)&&(k.length==2)){e+=1900}if((e<=0)||(e>9999)){return false}if((t==2)&&(v==29)){var a=e%4;var w=e%100;var q=e%400;if(a!=0){return false}if((w==0)&&(q!=0)){return false}}return true}function checkDate(k){var h=getActualTarget(getEvent(k));var b=document.forms[0].dateFormat.value;var g=h.value;var d=new Array("JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC");var a;var j;var c;var f=h.value.replace(/^\s+/,"").replace(/\s+$/,"");if(f==""){return true}try{if(g.indexOf("-")!=-1){a=g.split("-")}else{a=g.split("/")}if(b=="dd-MMM-yyyy"){if(g.indexOf("/")!=-1){throwError(b,h);return}a[1]=a[1].toUpperCase();for(i=0;i<d.length;i++){if(a[1]==d[i]){j=i+1;break}}c=j+"/"+a[0]+"/"+a[2]}else{if(b=="dd/MMM/yyyy"||b=="dd/MMM/yy"){if(g.indexOf("-")!=-1){throwError(b,h);return}a[1]=a[1].toUpperCase();for(i=0;i<d.length;i++){if(a[1]==d[i]){j=i+1;break}}c=j+"/"+a[0]+"/"+a[2]}else{if(b=="dd-MM-yyyy"||b=="dd-mm-yyyy"||b=="dd-MM-yy"||b=="dd-mm-yy"){if(g.indexOf("/")!=-1){throwError(b,h);return}c=a[1]+"/"+a[0]+"/"+a[2]}else{if(b=="dd/MM/yyyy"||b=="dd/mm/yyyy"||b=="dd/MM/yy"||b=="dd/mm/yy"){if(g.indexOf("-")!=-1){throwError(b,h);return}c=a[1]+"/"+a[0]+"/"+a[2]}else{if(b=="MM-dd-yyyy"||b=="mm-dd-yyyy"||b=="MM-dd-yy"||b=="mm-dd-yy"){if(g.indexOf("/")!=-1){throwError(b,h);return}c=a[0]+"/"+a[1]+"/"+a[2]}else{if(b=="MM/dd/yyyy"||b=="mm/dd/yyyy"||b=="MM/dd/yyyy"||b=="mm/dd/yyyy"){if(g.indexOf("-")!=-1){throwError(b,h);return}c=a[0]+"/"+a[1]+"/"+a[2]}}}}}}if(!checkValidDate(c,b)){throwError(b,h)}}catch(k){throwError(b,h)}}function throwError(a,b){alert("Not a valid date. Eg.:"+a);b.value="";b.focus()};